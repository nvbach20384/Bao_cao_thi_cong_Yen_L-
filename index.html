<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard B√°o C√°o Tu·∫ßn</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* ========== RESET C∆† B·∫¢N ========== */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: #0f172a; /* n·ªÅn t·ªëi xanh ƒë·∫≠m */
      color: #f9fafb;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* ========== LAYOUT CHUNG ========== */
    .app-container {
      max-width: 1280px;
      margin: 0 auto;
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .brand-logo {
      width: 40px;
      height: 40px;
      border-radius: 12px;
      background: linear-gradient(135deg, #22c55e, #16a34a);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
    }

    .brand-text-title {
      font-size: 20px;
      font-weight: 700;
    }

    .brand-text-subtitle {
      font-size: 12px;
      opacity: 0.7;
    }

    .mode-pill {
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      font-size: 12px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      opacity: 0.9;
    }

    /* ========== THANH TOOLBAR B·ªò L·ªåC ========== */
    .toolbar {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      justify-content: space-between;
    }

    .toolbar-left,
    .toolbar-right {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    .search-input {
      position: relative;
    }

    .search-input input {
      padding: 8px 10px 8px 28px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.9);
      color: #f9fafb;
      font-size: 13px;
      min-width: 220px;
      outline: none;
    }

    .search-input span {
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 12px;
      opacity: 0.6;
    }

    .select-field {
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.9);
      color: #f9fafb;
      font-size: 13px;
      outline: none;
      min-width: 90px;
    }

    .badge-pill {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(22, 163, 74, 0.15);
      border: 1px solid rgba(34, 197, 94, 0.4);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    /* ========== KHU V·ª∞C N·ªòI DUNG CH√çNH ========== */
    .content {
      display: grid;
      grid-template-columns: minmax(0, 320px) minmax(0, 1fr);
      gap: 16px;
      align-items: stretch;
    }

    @media (max-width: 900px) {
      .content {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    /* ========== PANEL DANH S√ÅCH B√ÅO C√ÅO ========== */
    .panel {
      background: radial-gradient(circle at top left, #1e293b, #020617);
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      padding: 10px 10px 6px 10px;
      display: flex;
      flex-direction: column;
      max-height: calc(100vh - 160px);
      overflow: hidden;
    }

    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 8px;
      padding: 0 4px;
    }

    .panel-title {
      font-size: 14px;
      font-weight: 600;
    }

    .panel-subtitle {
      font-size: 11px;
      opacity: 0.6;
    }

    .report-list {
      margin-top: 4px;
      padding-right: 4px;
      overflow-y: auto;
      scrollbar-width: thin;
    }

    .report-item {
      padding: 8px 10px;
      border-radius: 12px;
      margin-bottom: 4px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      gap: 2px;
      border: 1px solid transparent;
      transition: all 0.15s ease;
      font-size: 12px;
    }

    .report-item:hover {
      background: rgba(15, 23, 42, 0.9);
      border-color: rgba(148, 163, 184, 0.7);
    }

    .report-item.active {
      background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(22, 101, 52, 0.7));
      border-color: rgba(34, 197, 94, 0.8);
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.4);
    }

    .report-main-line {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 6px;
    }

    .report-title {
      font-weight: 600;
      font-size: 13px;
    }

    .report-meta {
      display: flex;
      gap: 6px;
      align-items: center;
      font-size: 11px;
      opacity: 0.75;
    }

    .meta-pill {
      padding: 2px 8px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.7);
    }

    .report-updated {
      font-size: 10px;
      opacity: 0.6;
    }

    .empty-state {
      font-size: 12px;
      opacity: 0.7;
      padding: 10px;
    }

    /* ========== PANEL XEM N·ªòI DUNG (IFRAME) ========== */
    .viewer-panel {
      background: radial-gradient(circle at top right, #1e293b, #020617);
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      padding: 10px;
      display: flex;
      flex-direction: column;
      min-height: 300px;
      max-height: calc(100vh - 160px);
    }

    .viewer-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 8px;
      padding: 0 4px;
    }

    .viewer-title {
      font-size: 14px;
      font-weight: 600;
    }

    .viewer-subtitle {
      font-size: 11px;
      opacity: 0.7;
    }

    .viewer-actions {
      display: flex;
      gap: 6px;
      align-items: center;
    }

    .viewer-btn {
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      font-size: 11px;
      background: rgba(15, 23, 42, 0.9);
      cursor: pointer;
      color: #e5e7eb;
      transition: all 0.15s ease;
    }

    .viewer-btn:hover {
      border-color: rgba(34, 197, 94, 0.8);
      box-shadow: 0 0 0 1px rgba(22, 163, 74, 0.6);
    }

    .viewer-iframe {
      flex: 1;
      border-radius: 14px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      overflow: hidden;
    }

    .viewer-iframe iframe {
      width: 100%;
      height: 100%;
      border: none;
      background: #ffffff;
    }

    footer {
      font-size: 11px;
      opacity: 0.6;
      text-align: right;
      padding: 4px 0 8px;
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- ========== HEADER ========== -->
    <header>
      <div class="brand">
        <div class="brand-logo">W</div>
        <div>
          <div class="brand-text-title">B√°o c√°o tu·∫ßn KCN</div>
          <div class="brand-text-subtitle">Dashboard t·ªïng h·ª£p ‚Äì HTML tƒ©nh tr√™n GitHub Pages</div>
        </div>
      </div>
      <div class="mode-pill">
        <span>üìä</span>
        <span>Live Reports ‚Ä¢ Client-side Filter</span>
      </div>
    </header>

    <!-- ========== TOOLBAR B·ªò L·ªåC ========== -->
    <div class="toolbar">
      <div class="toolbar-left">
        <div class="search-input">
          <span>üîç</span>
          <input id="searchInput" type="text" placeholder="T√¨m theo tu·∫ßn / nƒÉm / ti√™u ƒë·ªÅ..." />
        </div>
        <select id="yearFilter" class="select-field">
          <option value="">NƒÉm: T·∫•t c·∫£</option>
        </select>
        <select id="weekFilter" class="select-field">
          <option value="">Tu·∫ßn: T·∫•t c·∫£</option>
        </select>
      </div>
      <div class="toolbar-right">
        <div class="badge-pill">
          <span>‚úÖ</span><span>HTML tƒ©nh ‚Ä¢ Kh√¥ng c·∫ßn server</span>
        </div>
      </div>
    </div>

    <!-- ========== N·ªòI DUNG CH√çNH ========== -->
    <div class="content">
      <!-- PANEL DANH S√ÅCH -->
      <section class="panel">
        <div class="panel-header">
          <div>
            <div class="panel-title">Danh s√°ch b√°o c√°o</div>
            <div class="panel-subtitle" id="listSubtitle">ƒêang t·∫£i...</div>
          </div>
        </div>
        <div class="report-list" id="reportList">
          <!-- JS render -->
        </div>
      </section>

      <!-- PANEL XEM B√ÅO C√ÅO -->
      <section class="viewer-panel">
        <div class="viewer-header">
          <div>
            <div class="viewer-title" id="viewerTitle">Ch∆∞a ch·ªçn b√°o c√°o</div>
            <div class="viewer-subtitle" id="viewerSubtitle">H√£y ch·ªçn m·ªôt b√°o c√°o ·ªü panel b√™n tr√°i ƒë·ªÉ xem n·ªôi dung.</div>
          </div>
          <div class="viewer-actions">
            <button class="viewer-btn" id="openNewTabBtn" disabled>M·ªü trong tab m·ªõi</button>
          </div>
        </div>
        <div class="viewer-iframe">
          <iframe id="reportFrame" src=""></iframe>
        </div>
      </section>
    </div>

    <footer>
      Made for internal reporting ‚Ä¢ Static HTML on GitHub Pages
    </footer>
  </div>

  <!-- ========== SCRIPT JS ========== -->
  <script>
    // ==============================
    // 1. KHAI B√ÅO DANH S√ÅCH B√ÅO C√ÅO
    // ==============================
    // üëâ Anh CH·ªà C·∫¶N ch·ªânh / th√™m / b·ªõt trong m·∫£ng n√†y cho ƒë√∫ng v·ªõi file c·ªßa anh.
    // id: T√äN FILE (kh√¥ng c√≥ .html)
    // path: ƒë∆∞·ªùng d·∫´n t·ªõi file (t∆∞∆°ng ƒë·ªëi t·ª´ index.html)
    // week: s·ªë tu·∫ßn (number)
    // year: nƒÉm (number)
    // title: text hi·ªÉn th·ªã
    // updatedAt: (tu·ª≥ ch·ªçn) th√¥ng tin update
   const reports = [
  // NƒÉm 2025
  { id: "Tuan_48_2025", path: "reports/Tuan_48_2025.html", week: 48, year: 2025, title: "Tu·∫ßn 48 - 2025", updatedAt: "" },
  { id: "Tuan_49_2025", path: "reports/Tuan_49_2025.html", week: 49, year: 2025, title: "Tu·∫ßn 49 - 2025", updatedAt: "" },
  { id: "Tuan_50_2025", path: "reports/Tuan_50_2025.html", week: 50, year: 2025, title: "Tu·∫ßn 50 - 2025", updatedAt: "" },
  { id: "Tuan_51_2025", path: "reports/Tuan_51_2025.html", week: 51, year: 2025, title: "Tu·∫ßn 51 - 2025", updatedAt: "" },
  { id: "Tuan_52_2025", path: "reports/Tuan_52_2025.html", week: 52, year: 2025, title: "Tu·∫ßn 52 - 2025", updatedAt: "" },

  // NƒÉm 2026
  { id: "Tuan_1_2026", path: "reports/Tuan_1_2026.html", week: 1, year: 2026, title: "Tu·∫ßn 01 - 2026", updatedAt: "" },
  { id: "Tuan_2_2026", path: "reports/Tuan_2_2026.html", week: 2, year: 2026, title: "Tu·∫ßn 02 - 2026", updatedAt: "" },
  { id: "Tuan_3_2026", path: "reports/Tuan_3_2026.html", week: 3, year: 2026, title: "Tu·∫ßn 03 - 2026", updatedAt: "" },
  { id: "Tuan_4_2026", path: "reports/Tuan_4_2026.html", week: 4, year: 2026, title: "Tu·∫ßn 04 - 2026", updatedAt: "" },
  { id: "Tuan_5_2026", path: "reports/Tuan_5_2026.html", week: 5, year: 2026, title: "Tu·∫ßn 05 - 2026", updatedAt: "" },
];
      // Anh th√™m c√°c tu·∫ßn kh√°c v√†o ƒë√¢y:
      // { id: "Tuan_2_2026", path: "reports/Tuan_2_2026.html", week: 2, year: 2026, title: "Tu·∫ßn 02 - 2026", updatedAt: "" },
    ];

    // ==============================
    // 2. KH·ªûI T·∫†O B·ªò L·ªåC (NƒÇM, TU·∫¶N)
    // ==============================
    const searchInput = document.getElementById("searchInput");
    const yearFilter = document.getElementById("yearFilter");
    const weekFilter = document.getElementById("weekFilter");
    const reportListEl = document.getElementById("reportList");
    const listSubtitle = document.getElementById("listSubtitle");
    const viewerTitle = document.getElementById("viewerTitle");
    const viewerSubtitle = document.getElementById("viewerSubtitle");
    const reportFrame = document.getElementById("reportFrame");
    const openNewTabBtn = document.getElementById("openNewTabBtn");

    let currentActiveId = null;

    function initFilters() {
      const years = Array.from(new Set(reports.map(r => r.year))).sort((a, b) => a - b);
      years.forEach(year => {
        const opt = document.createElement("option");
        opt.value = String(year);
        opt.textContent = "NƒÉm: " + year;
        yearFilter.appendChild(opt);
      });

      const weeks = Array.from(new Set(reports.map(r => r.week))).sort((a, b) => a - b);
      weeks.forEach(week => {
        const opt = document.createElement("option");
        opt.value = String(week);
        opt.textContent = "Tu·∫ßn: " + week;
        weekFilter.appendChild(opt);
      });

      updateListSubtitle();
    }

    function updateListSubtitle(count = reports.length) {
      listSubtitle.textContent = count + " b√°o c√°o";
    }

    // ==============================
    // 3. H√ÄM L·ªåC & RENDER DANH S√ÅCH
    // ==============================
    function getFilteredReports() {
      const text = (searchInput.value || "").toLowerCase().trim();
      const year = yearFilter.value;
      const week = weekFilter.value;

      return reports.filter(r => {
        if (year && String(r.year) !== year) return false;
        if (week && String(r.week) !== week) return false;

        if (text) {
          const composite = (r.title + " " + r.id + " " + r.week + " " + r.year).toLowerCase();
          if (!composite.includes(text)) return false;
        }
        return true;
      });
    }

    function renderReportList() {
      const filtered = getFilteredReports();
      reportListEl.innerHTML = "";

      if (!filtered.length) {
        const emptyEl = document.createElement("div");
        emptyEl.className = "empty-state";
        emptyEl.textContent = "Kh√¥ng t√¨m th·∫•y b√°o c√°o n√†o v·ªõi ƒëi·ªÅu ki·ªán l·ªçc hi·ªán t·∫°i.";
        reportListEl.appendChild(emptyEl);
        updateListSubtitle(0);
        return;
      }

      filtered.forEach(report => {
        const item = document.createElement("div");
        item.className = "report-item";
        if (report.id === currentActiveId) {
          item.classList.add("active");
        }

        item.dataset.reportId = report.id;

        const mainLine = document.createElement("div");
        mainLine.className = "report-main-line";

        const titleEl = document.createElement("div");
        titleEl.className = "report-title";
        titleEl.textContent = report.title;

        const metaRight = document.createElement("div");
        metaRight.className = "report-meta";
        const badge = document.createElement("span");
        badge.className = "meta-pill";
        badge.textContent = "Tu·∫ßn " + report.week + " ‚Ä¢ " + report.year;
        metaRight.appendChild(badge);

        mainLine.appendChild(titleEl);
        mainLine.appendChild(metaRight);

        const metaLine = document.createElement("div");
        metaLine.className = "report-meta";

        const idSpan = document.createElement("span");
        idSpan.textContent = report.id;

        metaLine.appendChild(idSpan);

        if (report.updatedAt) {
          const updatedSpan = document.createElement("span");
          updatedSpan.className = "report-updated";
          updatedSpan.textContent = "‚Ä¢ " + report.updatedAt;
          metaLine.appendChild(updatedSpan);
        }

        item.appendChild(mainLine);
        item.appendChild(metaLine);

        item.addEventListener("click", () => {
          setActiveReport(report.id);
        });

        reportListEl.appendChild(item);
      });

      updateListSubtitle(filtered.length);
    }

    // ==============================
    // 4. CH·ªåN B√ÅO C√ÅO & C·∫¨P NH·∫¨T IFRAME
    // ==============================
    function setActiveReport(reportId) {
      const report = reports.find(r => r.id === reportId);
      if (!report) return;

      currentActiveId = reportId;
      viewerTitle.textContent = report.title;
      viewerSubtitle.textContent = "Tu·∫ßn " + report.week + " ‚Ä¢ NƒÉm " + report.year;
      reportFrame.src = report.path;
      openNewTabBtn.disabled = false;
      openNewTabBtn.onclick = () => {
        window.open(report.path, "_blank");
      };

      const items = document.querySelectorAll(".report-item");
      items.forEach(item => {
        if (item.dataset.reportId === reportId) {
          item.classList.add("active");
        } else {
          item.classList.remove("active");
        }
      });
    }

    // ==============================
    // 5. G√ÅN S·ª∞ KI·ªÜN & KH·ªûI T·∫†O
    // ==============================
    document.addEventListener("DOMContentLoaded", () => {
      initFilters();
      renderReportList();

      // G√°n s·ª± ki·ªán cho b·ªô l·ªçc
      searchInput.addEventListener("input", () => {
        renderReportList();
      });
      yearFilter.addEventListener("change", () => {
        renderReportList();
      });
      weekFilter.addEventListener("change", () => {
        renderReportList();
      });

      // T·ª± ƒë·ªông ch·ªçn b√°o c√°o m·ªõi nh·∫•t (theo nƒÉm + tu·∫ßn l·ªõn nh·∫•t)
      if (reports.length) {
        const sorted = [...reports].sort((a, b) => {
          if (a.year !== b.year) return b.year - a.year;
          return b.week - a.week;
        });
        setActiveReport(sorted[0].id);
        renderReportList();
      }
    });
  </script>
</body>
</html>



